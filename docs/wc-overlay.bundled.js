/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const t=new WeakMap,e=e=>"function"==typeof e&&t.has(e),n=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,i=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},o={},s={},r=`{{lit-${String(Math.random()).slice(2)}}}`,c=`\x3c!--${r}--\x3e`,a=new RegExp(`${r}|${c}`);class h{constructor(t,e){this.parts=[],this.element=e;const n=[],i=[],o=document.createTreeWalker(e.content,133,null,!1);let s=0,c=-1,h=0;const{strings:l,values:{length:d}}=t;for(;h<d;){const t=o.nextNode();if(null!==t){if(c++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let i=0;for(let t=0;t<n;t++)u(e[t].name,"$lit$")&&i++;for(;i-- >0;){const e=l[h],n=p.exec(e)[2],i=n.toLowerCase()+"$lit$",o=t.getAttribute(i);t.removeAttribute(i);const s=o.split(a);this.parts.push({type:"attribute",index:c,name:n,strings:s}),h+=s.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),o.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(r)>=0){const i=t.parentNode,o=e.split(a),s=o.length-1;for(let e=0;e<s;e++){let n,s=o[e];if(""===s)n=f();else{const t=p.exec(s);null!==t&&u(t[2],"$lit$")&&(s=s.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),n=document.createTextNode(s)}i.insertBefore(n,t),this.parts.push({type:"node",index:++c})}""===o[s]?(i.insertBefore(f(),t),n.push(t)):t.data=o[s],h+=s}}else if(8===t.nodeType)if(t.data===r){const e=t.parentNode;null!==t.previousSibling&&c!==s||(c++,e.insertBefore(f(),t)),s=c,this.parts.push({type:"node",index:c}),null===t.nextSibling?t.data="":(n.push(t),c--),h++}else{let e=-1;for(;-1!==(e=t.data.indexOf(r,e+1));)this.parts.push({type:"node",index:-1}),h++}}else o.currentNode=i.pop()}for(const t of n)t.parentNode.removeChild(t)}}const u=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},l=t=>-1!==t.index,f=()=>document.createComment(""),p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class d{constructor(t,e,n){this.t=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.t)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.t)void 0!==t&&t.commit()}_clone(){const t=n?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],i=this.template.parts,o=document.createTreeWalker(t,133,null,!1);let s,r=0,c=0,a=o.nextNode();for(;r<i.length;)if(s=i[r],l(s)){for(;c<s.index;)c++,"TEMPLATE"===a.nodeName&&(e.push(a),o.currentNode=a.content),null===(a=o.nextNode())&&(o.currentNode=e.pop(),a=o.nextNode());if("node"===s.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.t.push(t)}else this.t.push(...this.processor.handleAttributeExpressions(a,s.name,s.strings,this.options));r++}else this.t.push(void 0),r++;return n&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const v=` ${r} `;class m{constructor(t,e,n,i){this.strings=t,this.values=e,this.type=n,this.processor=i}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let i=0;i<t;i++){const t=this.strings[i],o=t.lastIndexOf("\x3c!--");n=(o>-1||n)&&-1===t.indexOf("--\x3e",o+1);const s=p.exec(t);e+=null===s?t+(n?v:c):t.substr(0,s.index)+s[1]+s[2]+"$lit$"+s[3]+r}return e+=this.strings[t],e}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const b=t=>null===t||!("object"==typeof t||"function"==typeof t),w=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class y{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new g(this)}_getValue(){const t=this.strings,e=t.length-1;let n="";for(let i=0;i<e;i++){n+=t[i];const e=this.parts[i];if(void 0!==e){const t=e.value;if(b(t)||!w(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class g{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===o||b(t)&&t===this.value||(this.value=t,e(t)||(this.committer.dirty=!0))}commit(){for(;e(this.value);){const t=this.value;this.value=o,t(this)}this.value!==o&&this.committer.commit()}}class x{constructor(t){this.value=void 0,this.i=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(f()),this.endNode=t.appendChild(f())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.o(this.startNode=f()),t.o(this.endNode=f())}insertAfterPart(t){t.o(this.startNode=f()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.i=t}commit(){for(;e(this.i);){const t=this.i;this.i=o,t(this)}const t=this.i;t!==o&&(b(t)?t!==this.value&&this.s(t):t instanceof m?this.h(t):t instanceof Node?this.u(t):w(t)?this.l(t):t===s?(this.value=s,this.clear()):this.s(t))}o(t){this.endNode.parentNode.insertBefore(t,this.endNode)}u(t){this.value!==t&&(this.clear(),this.o(t),this.value=t)}s(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.u(document.createTextNode(n)),this.value=t}h(t){const e=this.options.templateFactory(t);if(this.value instanceof d&&this.value.template===e)this.value.update(t.values);else{const n=new d(e,t.processor,this.options),i=n._clone();n.update(t.values),this.u(i),this.value=n}}l(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,i=0;for(const o of t)n=e[i],void 0===n&&(n=new x(this.options),e.push(n),0===i?n.appendIntoPart(this):n.insertAfterPart(e[i-1])),n.setValue(o),n.commit(),i++;i<e.length&&(e.length=i,this.clear(n&&n.endNode))}clear(t=this.startNode){i(this.startNode.parentNode,t.nextSibling,this.endNode)}}class O{constructor(t,e,n){if(this.value=void 0,this.i=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.i=t}commit(){for(;e(this.i);){const t=this.i;this.i=o,t(this)}if(this.i===o)return;const t=!!this.i;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.i=o}}class S extends y{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new j(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class j extends g{}let k=!1;try{const t={get capture(){return k=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class M{constructor(t,e,n){this.value=void 0,this.i=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.p=t=>this.handleEvent(t)}setValue(t){this.i=t}commit(){for(;e(this.i);){const t=this.i;this.i=o,t(this)}if(this.i===o)return;const t=this.i,n=this.value,i=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),s=null!=t&&(null==n||i);i&&this.element.removeEventListener(this.eventName,this.p,this.v),s&&(this.v=C(t),this.element.addEventListener(this.eventName,this.p,this.v)),this.value=t,this.i=o}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const C=t=>t&&(k?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;const _=new class{handleAttributeExpressions(t,e,n,i){const o=e[0];if("."===o){return new S(t,e.slice(1),n).parts}return"@"===o?[new M(t,e.slice(1),i.eventContext)]:"?"===o?[new O(t,e.slice(1),n)]:new y(t,e,n).parts}handleTextExpression(t){return new x(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function E(t){let e=P.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},P.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const i=t.strings.join(r);return n=e.keyString.get(i),void 0===n&&(n=new h(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const P=new Map,A=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const T=(t,...e)=>new m(t,e,"html",_)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function q(t,e){const{element:{content:n},parts:i}=t,o=document.createTreeWalker(n,133,null,!1);let s=I(i),r=i[s],c=-1,a=0;const h=[];let u=null;for(;o.nextNode();){c++;const t=o.currentNode;for(t.previousSibling===u&&(u=null),e.has(t)&&(h.push(t),null===u&&(u=t)),null!==u&&a++;void 0!==r&&r.index===c;)r.index=null!==u?-1:r.index-a,s=I(i,s),r=i[s]}h.forEach(t=>t.parentNode.removeChild(t))}const $=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,133,null,!1);for(;n.nextNode();)e++;return e},I=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(l(e))return n}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const N=(t,e)=>`${t}--${e}`;let U=!0;void 0===window.ShadyCSS?U=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),U=!1);const L=t=>e=>{const n=N(e.type,t);let i=P.get(n);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},P.set(n,i));let o=i.stringsArray.get(e.strings);if(void 0!==o)return o;const s=e.strings.join(r);if(o=i.keyString.get(s),void 0===o){const n=e.getTemplateElement();U&&window.ShadyCSS.prepareTemplateDom(n,t),o=new h(e,n),i.keyString.set(s,o)}return i.stringsArray.set(e.strings,o),o},B=["html","svg"],R=new Set,W=(t,e,n)=>{R.add(t);const i=n?n.element:document.createElement("template"),o=e.querySelectorAll("style"),{length:s}=o;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(i,t);const r=document.createElement("style");for(let t=0;t<s;t++){const e=o[t];e.parentNode.removeChild(e),r.textContent+=e.textContent}(t=>{B.forEach(e=>{const n=P.get(N(e,t));void 0!==n&&n.keyString.forEach(t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{n.add(t)}),q(t,n)})})})(t);const c=i.content;n?function(t,e,n=null){const{element:{content:i},parts:o}=t;if(null==n)return void i.appendChild(e);const s=document.createTreeWalker(i,133,null,!1);let r=I(o),c=0,a=-1;for(;s.nextNode();){for(a++,s.currentNode===n&&(c=$(e),n.parentNode.insertBefore(e,n));-1!==r&&o[r].index===a;){if(c>0){for(;-1!==r;)o[r].index+=c,r=I(o,r);return}r=I(o,r)}}}(n,r,c.firstChild):c.insertBefore(r,c.firstChild),window.ShadyCSS.prepareTemplateStyles(i,t);const a=c.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==a)e.insertBefore(a.cloneNode(!0),e.firstChild);else if(n){c.insertBefore(r,c.firstChild);const t=new Set;t.add(r),q(n,t)}};window.JSCompiler_renameProperty=(t,e)=>t;const V={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},F=(t,e)=>e!==t&&(e==e||t==t),z={attribute:!0,type:String,converter:V,reflect:!1,hasChanged:F},H=Promise.resolve(!0);class J extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=H,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,n)=>{const i=this._attributeNameForProperty(n,e);void 0!==i&&(this._attributeToPropertyMap.set(i,n),t.push(i))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=z){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():`__${t}`;Object.defineProperty(this.prototype,t,{get(){return this[n]},set(e){const i=this[t];this[n]=e,this._requestUpdate(t,i)},configurable:!0,enumerable:!0})}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=F){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,i=e.converter||V,o="function"==typeof i?i:i.fromAttribute;return o?o(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,i=e.converter;return(i&&i.toAttribute||V.toAttribute)(t,n)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this._updateState=32|this._updateState,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=z){const i=this.constructor,o=i._attributeNameForProperty(t,n);if(void 0!==o){const t=i._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(o):this.setAttribute(o,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const n=this.constructor,i=n._attributeToPropertyMap.get(t);if(void 0!==i){const t=n._classProperties.get(i)||z;this._updateState=16|this._updateState,this[i]=n._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}_requestUpdate(t,e){let n=!0;if(void 0!==t){const i=this.constructor,o=i._classProperties.get(t)||z;i._valueHasChanged(this[t],e,o.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==o.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,o))):n=!1}!this._hasRequestedUpdate&&n&&this._enqueueUpdate()}requestUpdate(t,e){return this._requestUpdate(t,e),this.updateComplete}async _enqueueUpdate(){let t,e;this._updateState=4|this._updateState;const n=this._updatePromise;this._updatePromise=new Promise((n,i)=>{t=n,e=i});try{await n}catch(t){}this._hasConnected||await new Promise(t=>this._hasConnectedResolver=t);try{const t=this.performUpdate();null!=t&&await t}catch(t){e(t)}t(!this._hasRequestedUpdate)}get _hasConnected(){return 32&this._updateState}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t&&this.update(e)}catch(e){throw t=!1,e}finally{this._markUpdated()}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0)}updated(t){}firstUpdated(t){}}J.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const D=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:i}=e;return{kind:n,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e),G=(t,e)=>"method"!==e.kind||!e.descriptor||"value"in e.descriptor?{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}}:Object.assign({},e,{finisher(n){n.createProperty(e.key,t)}});function K(t){return(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):G(t,e)}function Q(t){return(e,n)=>{const i={get(){return this.renderRoot.querySelector(t)},enumerable:!0,configurable:!0};return void 0!==n?X(i,e,n):Y(i,e)}}const X=(t,e,n)=>{Object.defineProperty(e,n,t)},Y=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t})
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/,Z="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,tt=Symbol();class et{constructor(t,e){if(e!==tt)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(Z?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const nt=(t,...e)=>{const n=e.reduce((e,n,i)=>e+(t=>{if(t instanceof et)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[i+1],t[0]);return new et(n,tt)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");const it=t=>t.flat?t.flat(1/0):function t(e,n=[]){for(let i=0,o=e.length;i<o;i++){const o=e[i];Array.isArray(o)?t(o,n):n.push(o)}return n}(t);class ot extends J{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){const t=this.styles,e=[];if(Array.isArray(t)){it(t).reduceRight((t,e)=>(t.add(e),t),new Set).forEach(t=>e.unshift(t))}else t&&e.push(t);return e}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Z?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){super.update(t);const e=this.render();e instanceof m&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){}}ot.finalized=!0,ot.render=(t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const o=n.scopeName,s=A.has(e),r=U&&11===e.nodeType&&!!e.host,c=r&&!R.has(o),a=c?document.createDocumentFragment():e;if(((t,e,n)=>{let o=A.get(e);void 0===o&&(i(e,e.firstChild),A.set(e,o=new x(Object.assign({templateFactory:E},n))),o.appendInto(e)),o.setValue(t),o.commit()})(t,a,Object.assign({templateFactory:L(o)},n)),c){const t=A.get(a);A.delete(a);const n=t.value instanceof d?t.value.template:void 0;W(o,a,n),i(e,e.firstChild),e.appendChild(a),A.set(e,t)}!s&&r&&window.ShadyCSS.styleElement(e.host)};const st=new WeakMap;function rt(t){let e=st.get(t);return e||(e=[],st.set(t,e)),e}function ct(t,e){t.parentElement&&t.parentElement.replaceChild(e,t)}class at extends EventTarget{constructor(){super(),this.pointerOverOverlay=!1,this.pendingClose=!1,this.placeholders=new WeakMap,this._open=!1,this.onTriggerOn=t=>{this._open||(this.triggerEvent=t,this.open())},this.onTriggerOff=t=>{this.open&&t!==this.triggerEvent&&("pointerleave"!==t.type&&"pointerout"!==t.type||!this.pointerRemainsInOverlay(t))&&(this.triggerEvent=t,this.close())},this.onCloseOn=()=>{this.close()},this.overlayContainer=document.createElement("div"),this.overlayContainer.style.display="contents"}get isOpen(){return this._open}removeTriggerListeners(){this.triggerContainer&&(this.triggerOn&&this.triggerContainer.removeEventListener(this.triggerOn,this.onTriggerOn),this.triggerOff&&this.triggerContainer.removeEventListener(this.triggerOff,this.onTriggerOff))}removeContentListeners(){"pointerleave"!==this.triggerOff&&"pointerout"!==this.triggerOff||this.overlayContainer.removeEventListener(this.triggerOff,this.onTriggerOff),this.closeOn&&this.overlayContainer.removeEventListener(this.closeOn,this.onCloseOn)}setTrigger(t,e,n){this.removeTriggerListeners(),this.triggerContainer=t,this.triggerOff=n,this.triggerOn=e,e&&t.addEventListener(e,this.onTriggerOn),n&&t.addEventListener(n,this.onTriggerOff),"pointerleave"!==this.triggerOff&&"pointerout"!==this.triggerOff||this.overlayContainer.addEventListener(this.triggerOff,this.onTriggerOff)}destroy(){this.close(),this.removeTriggerListeners(),this.removeContentListeners()}pointerRemainsInOverlay(t){const e=t.relatedTarget;return!!e&&(!(!this.overlayContainer.contains(e)||t.target!==this.triggerContainer)||t.target===this.overlayContainer&&t.relatedTarget===this.triggerContainer)}createOverlay(){if(!this.triggerContainer)return;const t=new CustomEvent("wc-overlay-open",{bubbles:!0,composed:!0,detail:{triggerEvent:this.triggerEvent,content:this.overlayContainer,target:document.body,targetName:void 0},cancelable:!0}),e=this.triggerContainer.dispatchEvent(t),n=t.detail;e&&n.target&&(this.target=n.target,rt(this.target).push(this),this.target.appendChild(this.overlayContainer))}open(){if(this.isOpen)return;const t=new CustomEvent("wc-overlay-content",{bubbles:!0,composed:!0,detail:{content:void 0,closeOn:void 0,foo:!0},cancelable:!1});this.dispatchEvent(t);const{content:e,closeOn:n}=t.detail;if(!e)return void this.close();(Array.isArray(e)?e:[e]).forEach(t=>{const e=function(t){const e=document.createComment("placeholder for "+t.nodeName);return t.parentElement&&t.parentElement.replaceChild(e,t),e}(t);this.placeholders.set(t,e),this.overlayContainer.appendChild(t)}),n&&this.overlayContainer.addEventListener(n,this.onCloseOn,{once:!0}),this.createOverlay(),this._open=!0;const i=new CustomEvent("wc-overlay-opened",{detail:{content:e,overlay:this,trigger:this.triggerEvent}});return this.dispatchEvent(i),e}close(){var t;if(!this.isOpen)return;const e=new CustomEvent("wc-overlay-close",{bubbles:!0,composed:!0,detail:{overlay:this}});if(this.overlayContainer.dispatchEvent(e),!this.target)throw new Error("No target for opened overlay?");const n=rt(this.target),i=n.findIndex(t=>t===this);for(i>=0&&n.splice(i,1);this.overlayContainer.firstChild;){const t=this.placeholders.get(this.overlayContainer.firstChild);t&&ct(t,this.overlayContainer.firstChild)}null===(t=this.overlayContainer.parentElement)||void 0===t||t.removeChild(this.overlayContainer),this.triggerEvent=void 0,this._open=!1;const o=new CustomEvent("wc-overlay-closed",{detail:{overlay:this}});this.dispatchEvent(o)}}var ht=function(t,e,n,i){for(var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i,c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};let ut=class extends ot{constructor(){super(),this._open=!1,this.triggerOn="click",this.maskCloseOn="click",this.handleContentRequest=t=>{const e=t,n=this.extractSlotContent(this.maskContainer);n&&this.maskCloseOn&&n.addEventListener(this.maskCloseOn,()=>{this.overlay.close()},{once:!0}),e.detail.content=[n,this.extractSlotContent(this.contentContainer)],e.detail.closeOn=this.closeOn},this.extractSlotContent=t=>{const e=t.assignedNodes({flatten:!0}).filter(t=>t instanceof HTMLElement);if(e.length)return e[0];throw new Error("No slotted content")},this.overlay=new at,this.overlay.addEventListener("wc-overlay-content",this.handleContentRequest),this.overlay.addEventListener("wc-overlay-opened",()=>{this.open=!0}),this.overlay.addEventListener("wc-overlay-closed",()=>{this.open=!1})}set open(t){t?this.overlay.open():t||this.overlay.close();const e=this._open;this._open=this.overlay.isOpen,this.requestUpdate("open",e)}get open(){return this._open}render(){return T`
      <slot name="trigger" id="trig"></slot>
      <slot id="content"></slot>
      <slot name="mask" id="mask"></slot>
    `}updated(t){super.updated(t),(t.has("triggerOn")||t.has("triggerOff"))&&this.overlay.setTrigger(this.triggerContainer,this.triggerOn,this.triggerOff)}};function lt(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function ft(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e?e.defaultView:window}return t}function pt(t){var e=ft(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function dt(t){return t instanceof ft(t).Element}function vt(t){return t instanceof ft(t).HTMLElement}function mt(t){return t?(t.nodeName||"").toLowerCase():null}function bt(t){return(dt(t)?t.ownerDocument:t.document).documentElement}function wt(t){return lt(bt(t)).left+pt(t).scrollLeft}function yt(t,e,n){var i;void 0===n&&(n=!1);var o,s,r=lt(t),c={scrollLeft:0,scrollTop:0},a={x:0,y:0};return n||("body"!==mt(e)&&(c=(o=e)!==ft(o)&&vt(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:pt(o)),vt(e)?((a=lt(e)).x+=e.clientLeft,a.y+=e.clientTop):(i=bt(e))&&(a.x=wt(i))),{x:r.left+c.scrollLeft-a.x,y:r.top+c.scrollTop-a.y,width:r.width,height:r.height}}function gt(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function xt(t){return"html"===mt(t)?t:t.parentNode||t.host||document.ownerDocument||document.documentElement}function Ot(t){return ft(t).getComputedStyle(t)}function St(t,e){void 0===e&&(e=[]);var n=function t(e){if(["html","body","#document"].indexOf(mt(e))>=0)return e.ownerDocument.body;if(vt(e)){var n=Ot(e),i=n.overflow,o=n.overflowX,s=n.overflowY;if(/auto|scroll|overlay|hidden/.test(i+s+o))return e}return t(xt(e))}(t),i="body"===mt(n),o=i?ft(n):n,s=e.concat(o);return i?s:s.concat(St(xt(o)))}function jt(t){return["table","td","th"].indexOf(mt(t))>=0}ut.styles=nt`
    :host {
      display: contents;
    }
    #content,
    #mask {
      display: none;
    }
  `,ht([K({reflect:!0,type:Boolean})],ut.prototype,"open",null),ht([K({reflect:!0,attribute:"trigger-on"})],ut.prototype,"triggerOn",void 0),ht([K({reflect:!0,attribute:"trigger-off"})],ut.prototype,"triggerOff",void 0),ht([K({reflect:!0,attribute:"close-on"})],ut.prototype,"closeOn",void 0),ht([K({reflect:!0,attribute:"mask-close-on"})],ut.prototype,"maskCloseOn",void 0),ht([Q("#trig")],ut.prototype,"triggerContainer",void 0),ht([Q("#content")],ut.prototype,"contentContainer",void 0),ht([Q("#mask")],ut.prototype,"maskContainer",void 0),ut=ht([D("wc-overlay")],ut);function kt(t){var e;return!vt(t)||!(e=t.offsetParent)||void 0!==window.InstallTrigger&&"fixed"===Ot(e).position?null:e}function Mt(t){for(var e=ft(t),n=kt(t);n&&jt(n);)n=kt(n);return n&&"body"===mt(n)&&"static"===Ot(n).position?e:n||e}var Ct="top",_t="bottom",Et="right",Pt="left",At=[Ct,_t,Et,Pt],Tt=At.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),qt=[].concat(At,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),$t=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function It(t){var e=new Map,n=new Set,i=[];return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(i){if(!n.has(i)){var o=e.get(i);o&&t(o)}})),i.push(o)}(t)})),i}function Nt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return[].concat(n).reduce((function(t,e){return t.replace(/%s/,e)}),t)}var Ut='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Lt=["name","enabled","phase","fn","effect","requires","options"];function Bt(t){return t.split("-")[0]}var Rt="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Wt={placement:"bottom",modifiers:[],strategy:"absolute"};function Vt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Ft(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,o=e.defaultOptions,s=void 0===o?Wt:o;return function(t,e,n){void 0===n&&(n=s);var o,r,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wt,{},s),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],h=!1,u={state:c,setOptions:function(n){l(),c.options=Object.assign({},s,{},c.options,{},n),c.scrollParents={reference:dt(t)?St(t):[],popper:St(e)};var o,r,h,f=function(t){var e=It(t);return $t.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,{},e,{options:Object.assign({},n.options,{},e.options),data:Object.assign({},n.data,{},e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(i,c.options.modifiers)));if(c.orderedModifiers=f.filter((function(t){return t.enabled})),"production"!==process.env.NODE_ENV){if(function(t){t.forEach((function(e){Object.keys(e).forEach((function(n){switch(n){case"name":"string"!=typeof e.name&&console.error(Nt(Ut,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":"boolean"!=typeof e.enabled&&console.error(Nt(Ut,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));case"phase":$t.indexOf(e.phase)<0&&console.error(Nt(Ut,e.name,'"phase"',"either "+$t.join(", "),'"'+String(e.phase)+'"'));break;case"fn":"function"!=typeof e.fn&&console.error(Nt(Ut,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":"function"!=typeof e.effect&&console.error(Nt(Ut,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":Array.isArray(e.requires)||console.error(Nt(Ut,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(Nt(Ut,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+Lt.map((function(t){return'"'+t+'"'})).join(", ")+'; but "'+n+'" was provided.')}e.requires&&e.requires.forEach((function(n){null==t.find((function(t){return t.name===n}))&&console.error(Nt('Popper: modifier "%s" requires "%s", but "%s" modifier is not available',String(e.name),n,n))}))}))}))}((o=[].concat(f,c.options.modifiers),r=function(t){return t.name},h=new Set,o.filter((function(t){var e=r(t);if(!h.has(e))return h.add(e),!0})))),"auto"===Bt(c.options.placement))c.orderedModifiers.find((function(t){return"flip"===t.name}))||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "));var p=Ot(e);[p.marginTop,p.marginRight,p.marginBottom,p.marginLeft].some((function(t){return parseFloat(t)}))&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return c.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var s=o({state:c,name:e,instance:u,options:i});a.push(s||function(){})}})),u.update()},forceUpdate:function(){if(!h){var t=c.elements,e=t.reference,n=t.popper;if(Vt(e,n)){c.rects={reference:yt(e,Mt(n),"fixed"===c.options.strategy),popper:gt(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(t){return c.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0,o=0;o<c.orderedModifiers.length;o++){if("production"!==process.env.NODE_ENV&&(i+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==c.reset){var s=c.orderedModifiers[o],r=s.fn,a=s.options,l=void 0===a?{}:a,f=s.name;"function"==typeof r&&(c=r({state:c,options:l,name:f,instance:u})||c)}else c.reset=!1,o=-1}}else"production"!==process.env.NODE_ENV&&console.error(Rt)}},update:(o=function(){return new Promise((function(t){u.forceUpdate(),t(c)}))},function(){return r||(r=new Promise((function(t){Promise.resolve().then((function(){r=void 0,t(o())}))}))),r}),destroy:function(){l(),h=!0}};if(!Vt(t,e))return"production"!==process.env.NODE_ENV&&console.error(Rt),u;function l(){a.forEach((function(t){return t()})),a=[]}return u.setOptions(n).then((function(t){!h&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var zt={passive:!0};function Ht(t){return t.split("-")[1]}function Jt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Dt(t){var e,n=t.reference,i=t.element,o=t.placement,s=o?Bt(o):null,r=o?Ht(o):null,c=n.x+n.width/2-i.width/2,a=n.y+n.height/2-i.height/2;switch(s){case Ct:e={x:c,y:n.y-i.height};break;case _t:e={x:c,y:n.y+n.height};break;case Et:e={x:n.x+n.width,y:a};break;case Pt:e={x:n.x-i.width,y:a};break;default:e={x:n.x,y:n.y}}var h=s?Jt(s):null;if(null!=h){var u="y"===h?"height":"width";switch(r){case"start":e[h]=Math.floor(e[h])-Math.floor(n[u]/2-i[u]/2);break;case"end":e[h]=Math.floor(e[h])+Math.ceil(n[u]/2-i[u]/2)}}return e}var Gt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kt(t){var e,n=t.popper,i=t.popperRect,o=t.placement,s=t.offsets,r=t.position,c=t.gpuAcceleration,a=t.adaptive,h=function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:Math.round(e*i)/i||0,y:Math.round(n*i)/i||0}}(s),u=h.x,l=h.y,f=s.hasOwnProperty("x"),p=s.hasOwnProperty("y"),d=Pt,v=Ct,m=window;if(a){var b=Mt(n);b===ft(n)&&(b=bt(n)),o===Ct&&(v=_t,l-=b.clientHeight-i.height,l*=c?1:-1),o===Pt&&(d=Et,u-=b.clientWidth-i.width,u*=c?1:-1)}var w,y=Object.assign({position:r},a&&Gt);return c?Object.assign({},y,((w={})[v]=p?"0":"",w[d]=f?"0":"",w.transform=(m.devicePixelRatio||1)<2?"translate("+u+"px, "+l+"px)":"translate3d("+u+"px, "+l+"px, 0)",w)):Object.assign({},y,((e={})[v]=p?l+"px":"",e[d]=f?u+"px":"",e.transform="",e))}var Qt={left:"right",right:"left",bottom:"top",top:"bottom"};function Xt(t){return t.replace(/left|right|bottom|top/g,(function(t){return Qt[t]}))}var Yt={start:"end",end:"start"};function Zt(t){return t.replace(/start|end/g,(function(t){return Yt[t]}))}function te(t){return parseFloat(t)||0}function ee(t){var e=ft(t),n=function(t){var e=vt(t)?Ot(t):{};return{top:te(e.borderTopWidth),right:te(e.borderRightWidth),bottom:te(e.borderBottomWidth),left:te(e.borderLeftWidth)}}(t),i="html"===mt(t),o=wt(t),s=t.clientWidth+n.right,r=t.clientHeight+n.bottom;return i&&e.innerHeight-t.clientHeight>50&&(r=e.innerHeight-n.bottom),{top:i?0:t.clientTop,right:t.clientLeft>n.left?n.right:i?e.innerWidth-s-o:t.offsetWidth-s,bottom:i?e.innerHeight-r:t.offsetHeight-r,left:i?o:t.clientLeft}}function ne(t,e){var n=Boolean(e.getRootNode&&e.getRootNode().host);if(t.contains(e))return!0;if(n){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ie(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function oe(t,e){return"viewport"===e?ie(function(t){var e=ft(t);return{width:e.innerWidth,height:e.innerHeight,x:0,y:0}}(t)):vt(e)?lt(e):ie(function(t){var e=ft(t),n=pt(t),i=yt(bt(t),e);return i.height=Math.max(i.height,e.innerHeight),i.width=Math.max(i.width,e.innerWidth),i.x=-n.scrollLeft,i.y=-n.scrollTop,i}(bt(t)))}function se(t,e,n){var i="clippingParents"===e?function(t){var e=St(t),n=["absolute","fixed"].indexOf(Ot(t).position)>=0&&vt(t)?Mt(t):t;return dt(n)?e.filter((function(t){return dt(t)&&ne(t,n)})):[]}(t):[].concat(e),o=[].concat(i,[n]),s=o[0],r=o.reduce((function(e,n){var i=oe(t,n),o=ee(vt(n)?n:bt(t));return e.top=Math.max(i.top+o.top,e.top),e.right=Math.min(i.right-o.right,e.right),e.bottom=Math.min(i.bottom-o.bottom,e.bottom),e.left=Math.max(i.left+o.left,e.left),e}),oe(t,s));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function re(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},t)}function ce(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function ae(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=void 0===i?t.placement:i,s=n.boundary,r=void 0===s?"clippingParents":s,c=n.rootBoundary,a=void 0===c?"viewport":c,h=n.elementContext,u=void 0===h?"popper":h,l=n.altBoundary,f=void 0!==l&&l,p=n.padding,d=void 0===p?0:p,v=re("number"!=typeof d?d:ce(d,At)),m="popper"===u?"reference":"popper",b=t.elements.reference,w=t.rects.popper,y=t.elements[f?m:u],g=se(dt(y)?y:bt(t.elements.popper),r,a),x=lt(b),O=Dt({reference:x,element:w,strategy:"absolute",placement:o}),S=ie(Object.assign({},w,{},O)),j="popper"===u?S:x,k={top:g.top-j.top+v.top,bottom:j.bottom-g.bottom+v.bottom,left:g.left-j.left+v.left,right:j.right-g.right+v.right},M=t.modifiersData.offset;if("popper"===u&&M){var C=M[o];Object.keys(k).forEach((function(t){var e=[Et,_t].indexOf(t)>=0?1:-1,n=[Ct,_t].indexOf(t)>=0?"y":"x";k[t]+=C[n]*e}))}return k}function he(t,e,n){return Math.max(t,Math.min(e,n))}function ue(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function le(t){return[Ct,Et,_t,Pt].some((function(e){return t[e]>=0}))}var fe=Ft({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,s=void 0===o||o,r=i.resize,c=void 0===r||r,a=ft(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach((function(t){t.addEventListener("scroll",n.update,zt)})),c&&a.addEventListener("resize",n.update,zt),function(){s&&h.forEach((function(t){t.removeEventListener("scroll",n.update,zt)})),c&&a.removeEventListener("resize",n.update,zt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Dt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,o=void 0===i||i,s=n.adaptive,r=void 0===s||s;if("production"!==process.env.NODE_ENV){var c=Ot(e.elements.popper).transitionProperty;r&&["transform","top","right","bottom","left"].some((function(t){return c.indexOf(t)>=0}))&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var a={placement:Bt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};e.styles.popper=Object.assign({},e.styles.popper,{},Kt(Object.assign({},a,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r}))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,{},Kt(Object.assign({},a,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];vt(o)&&mt(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:"absolute",left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],o=e.attributes[t]||{},s=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});vt(i)&&mt(i)&&(Object.assign(i.style,s),Object.keys(o).forEach((function(t){i.removeAttribute(t)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,o=n.offset,s=void 0===o?[0,0]:o,r=qt.reduce((function(t,n){return t[n]=function(t,e,n){var i=Bt(t),o=[Pt,Ct].indexOf(i)>=0?-1:1,s="function"==typeof n?n(Object.assign({},e,{placement:t})):n,r=s[0],c=s[1];return r=r||0,c=(c||0)*o,[Pt,Et].indexOf(i)>=0?{x:c,y:r}:{x:r,y:c}}(n,e.rects,s),t}),{}),c=r[e.placement],a=c.x,h=c.y;e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=h,e.modifiersData[i]=r}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var o=n.fallbackPlacements,s=n.padding,r=n.boundary,c=n.rootBoundary,a=n.flipVariations,h=void 0===a||a,u=e.options.placement,l=Bt(u),f=o||(l===u||!h?[Xt(u)]:function(t){if("auto"===Bt(t))return[];var e=Xt(t);return[Zt(t),e,Zt(e)]}(u)),p=[u].concat(f).reduce((function(t,n){return t.concat("auto"===Bt(n)?function(t,e){void 0===e&&(e={});var n=e,i=n.placement,o=n.boundary,s=n.rootBoundary,r=n.padding,c=n.flipVariations,a=Ht(i),h=(a?c?Tt:Tt.filter((function(t){return Ht(t)===a})):At).reduce((function(e,n){return e[n]=ae(t,{placement:n,boundary:o,rootBoundary:s,padding:r})[Bt(n)],e}),{});return Object.keys(h).sort((function(t,e){return h[t]-h[e]}))}(e,{placement:n,boundary:r,rootBoundary:c,padding:s,flipVariations:h}):n)}),[]),d=e.rects.reference,v=e.rects.popper,m=new Map,b=!0,w=p[0],y=0;y<p.length;y++){var g=p[y],x=Bt(g),O="start"===Ht(g),S=[Ct,_t].indexOf(x)>=0,j=S?"width":"height",k=ae(e,{placement:g,boundary:r,rootBoundary:c,padding:s}),M=S?O?Et:Pt:O?_t:Ct;d[j]>v[j]&&(M=Xt(M));var C=Xt(M),_=[k[x]<=0,k[M]<=0,k[C]<=0];if(_.every((function(t){return t}))){w=g,b=!1;break}m.set(g,_)}if(b)for(var E=function(t){var e=p.find((function(e){var n=m.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return w=e,"break"},P=h?3:1;P>0;P--){if("break"===E(P))break}e.placement!==w&&(e.modifiersData[i]._skip=!0,e.placement=w,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,o=n.mainAxis,s=void 0===o||o,r=n.altAxis,c=void 0!==r&&r,a=n.boundary,h=n.rootBoundary,u=n.padding,l=n.tether,f=void 0===l||l,p=n.tetherOffset,d=void 0===p?0:p,v=ae(e,{boundary:a,rootBoundary:h,padding:u}),m=Bt(e.placement),b=Ht(e.placement),w=!b,y=Jt(m),g="x"===y?"y":"x",x=e.modifiersData.popperOffsets,O=e.rects.reference,S=e.rects.popper,j="function"==typeof d?d(Object.assign({},e.rects,{placement:e.placement})):d,k={x:0,y:0};if(s){var M="y"===y?Ct:Pt,C="y"===y?_t:Et,_="y"===y?"height":"width",E=x[y],P=x[y]+v[M],A=x[y]-v[C],T=f?-S[_]/2:0,q="start"===b?O[_]:S[_],$="start"===b?-S[_]:-O[_],I=e.elements.arrow,N=f&&I?gt(I):{width:0,height:0},U=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},L=U[M],B=U[C],R=he(0,O[_],N[_]),W=w?O[_]/2-T-R-L-j:q-R-L-j,V=w?-O[_]/2+T+R+B+j:$+R+B+j,F=e.modifiersData.offset?e.modifiersData.offset[e.placement][y]:0,z=x[y]+W-F,H=x[y]+V-F,J=he(f?Math.min(P,z):P,E,f?Math.max(A,H):A);x[y]=J,k[y]=J-E}if(c){var D="x"===y?Ct:Pt,G="x"===y?_t:Et,K=x[g],Q=he(K+v[D],K,K-v[G]);e.modifiersData.popperOffsets[g]=Q,k[g]=Q-K}e.modifiersData[i]=k},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,o=n.elements.arrow,s=n.modifiersData.popperOffsets,r=Bt(n.placement),c=Jt(r),a=[Pt,Et].indexOf(r)>=0?"height":"width";if(o){var h=n.modifiersData[i+"#persistent"].padding,u=gt(o),l="y"===c?Ct:Pt,f="y"===c?_t:Et,p=(n.rects.reference[a]+n.rects.reference[c]-s[c]-n.rects.popper[a])/2-(s[c]-n.rects.reference[c])/2,d=he(h[l],n.rects.popper[a]/2-u[a]/2+p,n.rects.popper[a]-u[a]-h[f]),v=c;n.modifiersData[i]=((e={})[v]=d,e)}},effect:function(t){var e=t.state,n=t.options,i=t.name,o=n.element,s=void 0===o?"[data-popper-arrow]":o,r=n.padding,c=void 0===r?0:r;("string"!=typeof s||(s=e.elements.popper.querySelector(s)))&&(ne(e.elements.popper,s)?(e.elements.arrow=s,e.modifiersData[i+"#persistent"]={padding:re("number"!=typeof c?c:ce(c,At))}):"production"!==process.env.NODE_ENV&&console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,o=e.rects.popper,s=e.modifiersData.preventOverflow,r=ae(e,{elementContext:"reference"}),c=ae(e,{altBoundary:!0}),a=ue(r,i),h=ue(c,o,s),u=le(a),l=le(h);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:h,isReferenceHidden:u,hasPopperEscaped:l},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":l})}}]}),pe=function(t,e,n,i){for(var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i,c=t.length-1;c>=0;c--)(o=t[c])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r};let de=class extends ot{constructor(){super(),this._open=!1,this.triggerOn="pointerenter",this.triggerOff="pointerleave",this.handleContentRequest=t=>{const e=t;e.detail.content=this.getPopupContent(),e.detail.closeOn=this.closeOn},this.onOverlayOpen=t=>{const e=t.detail.content,n={name:"attribModifier",enabled:!0,phase:"write",options:{content:e},fn:({state:t,options:e})=>{e.content&&t.placement&&e.content.setAttribute("placement",t.placement)},effect:({state:t,options:e})=>()=>{e.content&&t.placement&&e.content.removeAttribute("placement")},requires:["computeStyles"]},i=this.triggerContainer.assignedElements()[0];this.popper=fe(i,this.overlay.overlayContainer,{placement:"bottom",modifiers:[{name:"arrow",options:{element:this.getArrow(e)}},n]}),this.open=!0},this.onOverlayClosed=()=>{this.popper&&(this.popper.destroy(),this.popper=void 0),this.open=!1},this.getArrow=t=>{if(t){return t.arrow}},this.getPopupContent=()=>{const t=this.extractSlotContent();if(t)return t;throw new Error("No slotted content!")},this.extractSlotContent=()=>{const t=this.contentContainer.assignedNodes({flatten:!0}).filter(t=>t instanceof HTMLElement);if(t.length)return t[0]},this.overlay=new at,this.overlay.overlayContainer.style.display="block",this.overlay.addEventListener("wc-overlay-content",this.handleContentRequest),this.overlay.addEventListener("wc-overlay-opened",this.onOverlayOpen),this.overlay.addEventListener("wc-overlay-closed",this.onOverlayClosed)}set open(t){t?this.overlay.open():t||this.overlay.close();const e=this._open;this._open=this.overlay.isOpen,this.requestUpdate("open",e)}get open(){return this._open}render(){return T`
      <slot name="trigger" id="trig"></slot>
      <slot id="content"></slot>
    `}updated(t){super.updated(t),(t.has("triggerOn")||t.has("triggerOff"))&&this.overlay.setTrigger(this.triggerContainer,this.triggerOn,this.triggerOff)}};de.styles=nt`
    :host {
      display: contents;
    }
    #content {
      display: none;
    }
  `,pe([K({reflect:!0,type:Boolean})],de.prototype,"open",null),pe([K({reflect:!0,type:String,attribute:"trigger-on"})],de.prototype,"triggerOn",void 0),pe([K({reflect:!0,type:String,attribute:"trigger-off"})],de.prototype,"triggerOff",void 0),pe([K({reflect:!0,type:String,attribute:"close-on"})],de.prototype,"closeOn",void 0),pe([Q("#trig")],de.prototype,"triggerContainer",void 0),pe([Q("#content")],de.prototype,"contentContainer",void 0),de=pe([D("wc-popup")],de);export{ut as OverlayElement,de as PopupElement};
